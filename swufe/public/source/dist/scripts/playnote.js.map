{"version":3,"file":"playnote.js","sources":["config.js","lib/jquery.blockUI.js","sewisecontrol.js","playnote.js"],"names":[],"mappings":"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","sourcesContent":["define('config',[],function(){\r\n  requirejs.config({\r\n    paths: {\r\n      infrastructure: 'infrastructure',\r\n      jquery: 'lib/jquery-1.11.1',\r\n      blockui: 'lib/jquery.blockUI',\r\n      artdialog: 'lib/artdialog',\r\n      sewise: 'lib/sewise',\r\n      sewisecontrol: 'sewisecontrol',\r\n      subtitle: 'subtitle',\r\n      clip: 'clip',\r\n      subtitleselect: 'subtitleselect',\r\n      comment: 'comment'\r\n    },\r\n    shim: {\r\n      blockui: {\r\n        deps: ['infrastructure']\r\n      },\r\n      artdialog: {\r\n        deps: ['infrastructure']\r\n      }\r\n      /*subtitle: {\r\n        deps: ['sewise']\r\n      },\r\n      clip: {\r\n        deps: ['sewise']\r\n      }*/\r\n    }\r\n  });\r\n});\n","/*!\r\n * jQuery blockUI plugin\r\n * Version 2.66.0-2013.10.09\r\n * Requires jQuery v1.7 or later\r\n *\r\n * Examples at: http://malsup.com/jquery/block/\r\n * Copyright (c) 2007-2013 M. Alsup\r\n * Dual licensed under the MIT and GPL licenses:\r\n * http://www.opensource.org/licenses/mit-license.php\r\n * http://www.gnu.org/licenses/gpl.html\r\n *\r\n * Thanks to Amir-Hossein Sobhi for some excellent contributions!\r\n */\r\n\r\n;(function() {\r\n/*jshint eqeqeq:false curly:false latedef:false */\r\n\"use strict\";\r\n\r\n\tfunction setup($) {\r\n\t\t$.fn._fadeIn = $.fn.fadeIn;\r\n\r\n\t\tvar noOp = $.noop || function() {};\r\n\r\n\t\t// this bit is to ensure we don't call setExpression when we shouldn't (with extra muscle to handle\r\n\t\t// confusing userAgent strings on Vista)\r\n\t\tvar msie = /MSIE/.test(navigator.userAgent);\r\n\t\tvar ie6  = /MSIE 6.0/.test(navigator.userAgent) && ! /MSIE 8.0/.test(navigator.userAgent);\r\n\t\tvar mode = document.documentMode || 0;\r\n\t\tvar setExpr = $.isFunction( document.createElement('div').style.setExpression );\r\n\r\n\t\t// global $ methods for blocking/unblocking the entire page\r\n\t\t$.blockUI   = function(opts) { install(window, opts); };\r\n\t\t$.unblockUI = function(opts) { remove(window, opts); };\r\n\r\n\t\t// convenience method for quick growl-like notifications  (http://www.google.com/search?q=growl)\r\n\t\t$.growlUI = function(title, message, timeout, onClose) {\r\n\t\t\tvar $m = $('<div class=\"growlUI\"></div>');\r\n\t\t\tif (title) $m.append('<h1>'+title+'</h1>');\r\n\t\t\tif (message) $m.append('<h2>'+message+'</h2>');\r\n\t\t\tif (timeout === undefined) timeout = 3000;\r\n\r\n\t\t\t// Added by konapun: Set timeout to 30 seconds if this growl is moused over, like normal toast notifications\r\n\t\t\tvar callBlock = function(opts) {\r\n\t\t\t\topts = opts || {};\r\n\r\n\t\t\t\t$.blockUI({\r\n\t\t\t\t\tmessage: $m,\r\n\t\t\t\t\tfadeIn : typeof opts.fadeIn  !== 'undefined' ? opts.fadeIn  : 700,\r\n\t\t\t\t\tfadeOut: typeof opts.fadeOut !== 'undefined' ? opts.fadeOut : 1000,\r\n\t\t\t\t\ttimeout: typeof opts.timeout !== 'undefined' ? opts.timeout : timeout,\r\n\t\t\t\t\tcenterY: false,\r\n\t\t\t\t\tshowOverlay: false,\r\n\t\t\t\t\tonUnblock: onClose,\r\n\t\t\t\t\tcss: $.blockUI.defaults.growlCSS\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tcallBlock();\r\n\t\t\tvar nonmousedOpacity = $m.css('opacity');\r\n\t\t\t$m.mouseover(function() {\r\n\t\t\t\tcallBlock({\r\n\t\t\t\t\tfadeIn: 0,\r\n\t\t\t\t\ttimeout: 30000\r\n\t\t\t\t});\r\n\r\n\t\t\t\tvar displayBlock = $('.blockMsg');\r\n\t\t\t\tdisplayBlock.stop(); // cancel fadeout if it has started\r\n\t\t\t\tdisplayBlock.fadeTo(300, 1); // make it easier to read the message by removing transparency\r\n\t\t\t}).mouseout(function() {\r\n\t\t\t\t$('.blockMsg').fadeOut(1000);\r\n\t\t\t});\r\n\t\t\t// End konapun additions\r\n\t\t};\r\n\r\n\t\t// plugin method for blocking element content\r\n\t\t$.fn.block = function(opts) {\r\n\t\t\tif ( this[0] === window ) {\r\n\t\t\t\t$.blockUI( opts );\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\tvar fullOpts = $.extend({}, $.blockUI.defaults, opts || {});\r\n\t\t\tthis.each(function() {\r\n\t\t\t\tvar $el = $(this);\r\n\t\t\t\tif (fullOpts.ignoreIfBlocked && $el.data('blockUI.isBlocked'))\r\n\t\t\t\t\treturn;\r\n\t\t\t\t$el.unblock({ fadeOut: 0 });\r\n\t\t\t});\r\n\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tif ($.css(this,'position') == 'static') {\r\n\t\t\t\t\tthis.style.position = 'relative';\r\n\t\t\t\t\t$(this).data('blockUI.static', true);\r\n\t\t\t\t}\r\n\t\t\t\tthis.style.zoom = 1; // force 'hasLayout' in ie\r\n\t\t\t\tinstall(this, opts);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t// plugin method for unblocking element content\r\n\t\t$.fn.unblock = function(opts) {\r\n\t\t\tif ( this[0] === window ) {\r\n\t\t\t\t$.unblockUI( opts );\r\n\t\t\t\treturn this;\r\n\t\t\t}\r\n\t\t\treturn this.each(function() {\r\n\t\t\t\tremove(this, opts);\r\n\t\t\t});\r\n\t\t};\r\n\r\n\t\t$.blockUI.version = 2.66; // 2nd generation blocking at no extra cost!\r\n\r\n\t\t// override these in your code to change the default behavior and style\r\n\t\t$.blockUI.defaults = {\r\n\t\t\t// message displayed when blocking (use null for no message)\r\n\t\t\tmessage:  '<h1>Please wait...</h1>',\r\n\r\n\t\t\ttitle: null,\t\t// title string; only used when theme == true\r\n\t\t\tdraggable: true,\t// only used when theme == true (requires jquery-ui.js to be loaded)\r\n\r\n\t\t\ttheme: false, // set to true to use with jQuery UI themes\r\n\r\n\t\t\t// styles for the message when blocking; if you wish to disable\r\n\t\t\t// these and use an external stylesheet then do this in your code:\r\n\t\t\t// $.blockUI.defaults.css = {};\r\n\t\t\tcss: {\r\n\t\t\t\tpadding:\t0,\r\n\t\t\t\tmargin:\t\t0,\r\n\t\t\t\twidth:\t\t'30%',\r\n\t\t\t\ttop:\t\t'40%',\r\n\t\t\t\tleft:\t\t'35%',\r\n\t\t\t\ttextAlign:\t'center',\r\n\t\t\t\tcolor:\t\t'#000',\r\n\t\t\t\t//border:\t\t'none',\r\n\t\t\t\t//backgroundColor:'#151719',\r\n\t\t\t\tcursor:\t\t'wait'\r\n\t\t\t},\r\n\r\n\t\t\t// minimal style set used when themes are used\r\n\t\t\tthemedCSS: {\r\n\t\t\t\twidth:\t'30%',\r\n\t\t\t\ttop:\t'40%',\r\n\t\t\t\tleft:\t'35%'\r\n\t\t\t},\r\n\r\n\t\t\t// styles for the overlay\r\n\t\t\toverlayCSS:  {\r\n\t\t\t\tbackgroundColor:\t'#000',\r\n\t\t\t\topacity:\t\t\t0.6,\r\n\t\t\t\tcursor:\t\t\t\t'wait'\r\n\t\t\t},\r\n\r\n\t\t\t// style to replace wait cursor before unblocking to correct issue\r\n\t\t\t// of lingering wait cursor\r\n\t\t\tcursorReset: 'default',\r\n\r\n\t\t\t// styles applied when using $.growlUI\r\n\t\t\tgrowlCSS: {\r\n\t\t\t\twidth:\t\t'350px',\r\n\t\t\t\ttop:\t\t'10px',\r\n\t\t\t\tleft:\t\t'',\r\n\t\t\t\tright:\t\t'10px',\r\n\t\t\t\tborder:\t\t'none',\r\n\t\t\t\tpadding:\t'5px',\r\n\t\t\t\topacity:\t0.6,\r\n\t\t\t\tcursor:\t\t'default',\r\n\t\t\t\tcolor:\t\t'#fff',\r\n\t\t\t\tbackgroundColor: '#000',\r\n\t\t\t\t'-webkit-border-radius':'10px',\r\n\t\t\t\t'-moz-border-radius':\t'10px',\r\n\t\t\t\t'border-radius':\t\t'10px'\r\n\t\t\t},\r\n\r\n\t\t\t// IE issues: 'about:blank' fails on HTTPS and javascript:false is s-l-o-w\r\n\t\t\t// (hat tip to Jorge H. N. de Vasconcelos)\r\n\t\t\t/*jshint scripturl:true */\r\n\t\t\tiframeSrc: /^https/i.test(window.location.href || '') ? 'javascript:false' : 'about:blank',\r\n\r\n\t\t\t// force usage of iframe in non-IE browsers (handy for blocking applets)\r\n\t\t\tforceIframe: false,\r\n\r\n\t\t\t// z-index for the blocking overlay\r\n\t\t\tbaseZ: 1000,\r\n\r\n\t\t\t// set these to true to have the message automatically centered\r\n\t\t\tcenterX: true, // <-- only effects element blocking (page block controlled via css above)\r\n\t\t\tcenterY: true,\r\n\r\n\t\t\t// allow body element to be stetched in ie6; this makes blocking look better\r\n\t\t\t// on \"short\" pages.  disable if you wish to prevent changes to the body height\r\n\t\t\tallowBodyStretch: true,\r\n\r\n\t\t\t// enable if you want key and mouse events to be disabled for content that is blocked\r\n\t\t\tbindEvents: true,\r\n\r\n\t\t\t// be default blockUI will supress tab navigation from leaving blocking content\r\n\t\t\t// (if bindEvents is true)\r\n\t\t\tconstrainTabKey: true,\r\n\r\n\t\t\t// fadeIn time in millis; set to 0 to disable fadeIn on block\r\n\t\t\tfadeIn:  200,\r\n\r\n\t\t\t// fadeOut time in millis; set to 0 to disable fadeOut on unblock\r\n\t\t\tfadeOut:  400,\r\n\r\n\t\t\t// time in millis to wait before auto-unblocking; set to 0 to disable auto-unblock\r\n\t\t\ttimeout: 0,\r\n\r\n\t\t\t// disable if you don't want to show the overlay\r\n\t\t\tshowOverlay: true,\r\n\r\n\t\t\t// if true, focus will be placed in the first available input field when\r\n\t\t\t// page blocking\r\n\t\t\tfocusInput: true,\r\n\r\n            // elements that can receive focus\r\n            focusableElements: ':input:enabled:visible',\r\n\r\n\t\t\t// suppresses the use of overlay styles on FF/Linux (due to performance issues with opacity)\r\n\t\t\t// no longer needed in 2012\r\n\t\t\t// applyPlatformOpacityRules: true,\r\n\r\n\t\t\t// callback method invoked when fadeIn has completed and blocking message is visible\r\n\t\t\tonBlock: null,\r\n\r\n\t\t\t// callback method invoked when unblocking has completed; the callback is\r\n\t\t\t// passed the element that has been unblocked (which is the window object for page\r\n\t\t\t// blocks) and the options that were passed to the unblock call:\r\n\t\t\t//\tonUnblock(element, options)\r\n\t\t\tonUnblock: null,\r\n\r\n\t\t\t// callback method invoked when the overlay area is clicked.\r\n\t\t\t// setting this will turn the cursor to a pointer, otherwise cursor defined in overlayCss will be used.\r\n\t\t\tonOverlayClick: null,\r\n\r\n\t\t\t// don't ask; if you really must know: http://groups.google.com/group/jquery-en/browse_thread/thread/36640a8730503595/2f6a79a77a78e493#2f6a79a77a78e493\r\n\t\t\tquirksmodeOffsetHack: 4,\r\n\r\n\t\t\t// class name of the message block\r\n\t\t\tblockMsgClass: 'blockMsg',\r\n\r\n\t\t\t// if it is already blocked, then ignore it (don't unblock and reblock)\r\n\t\t\tignoreIfBlocked: false\r\n\t\t};\r\n\r\n\t\t// private data and functions follow...\r\n\r\n\t\tvar pageBlock = null;\r\n\t\tvar pageBlockEls = [];\r\n\r\n\t\tfunction install(el, opts) {\r\n\t\t\tvar css, themedCSS;\r\n\t\t\tvar full = (el == window);\r\n\t\t\tvar msg = (opts && opts.message !== undefined ? opts.message : undefined);\r\n\t\t\topts = $.extend({}, $.blockUI.defaults, opts || {});\r\n\r\n\t\t\tif (opts.ignoreIfBlocked && $(el).data('blockUI.isBlocked'))\r\n\t\t\t\treturn;\r\n\r\n\t\t\topts.overlayCSS = $.extend({}, $.blockUI.defaults.overlayCSS, opts.overlayCSS || {});\r\n\t\t\tcss = $.extend({}, $.blockUI.defaults.css, opts.css || {});\r\n\t\t\tif (opts.onOverlayClick)\r\n\t\t\t\topts.overlayCSS.cursor = 'pointer';\r\n\r\n\t\t\tthemedCSS = $.extend({}, $.blockUI.defaults.themedCSS, opts.themedCSS || {});\r\n\t\t\tmsg = msg === undefined ? opts.message : msg;\r\n\r\n\t\t\t// remove the current block (if there is one)\r\n\t\t\tif (full && pageBlock)\r\n\t\t\t\tremove(window, {fadeOut:0});\r\n\r\n\t\t\t// if an existing element is being used as the blocking content then we capture\r\n\t\t\t// its current place in the DOM (and current display style) so we can restore\r\n\t\t\t// it when we unblock\r\n\t\t\tif (msg && typeof msg != 'string' && (msg.parentNode || msg.jquery)) {\r\n\t\t\t\tvar node = msg.jquery ? msg[0] : msg;\r\n\t\t\t\tvar data = {};\r\n\t\t\t\t$(el).data('blockUI.history', data);\r\n\t\t\t\tdata.el = node;\r\n\t\t\t\tdata.parent = node.parentNode;\r\n\t\t\t\tdata.display = node.style.display;\r\n\t\t\t\tdata.position = node.style.position;\r\n\t\t\t\tif (data.parent)\r\n\t\t\t\t\tdata.parent.removeChild(node);\r\n\t\t\t}\r\n\r\n\t\t\t$(el).data('blockUI.onUnblock', opts.onUnblock);\r\n\t\t\tvar z = opts.baseZ;\r\n\r\n\t\t\t// blockUI uses 3 layers for blocking, for simplicity they are all used on every platform;\r\n\t\t\t// layer1 is the iframe layer which is used to supress bleed through of underlying content\r\n\t\t\t// layer2 is the overlay layer which has opacity and a wait cursor (by default)\r\n\t\t\t// layer3 is the message content that is displayed while blocking\r\n\t\t\tvar lyr1, lyr2, lyr3, s;\r\n\t\t\tif (msie || opts.forceIframe)\r\n\t\t\t\tlyr1 = $('<iframe class=\"blockUI\" style=\"z-index:'+ (z++) +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0\" src=\"'+opts.iframeSrc+'\"></iframe>');\r\n\t\t\telse\r\n\t\t\t\tlyr1 = $('<div class=\"blockUI\" style=\"display:none\"></div>');\r\n\r\n\t\t\tif (opts.theme)\r\n\t\t\t\tlyr2 = $('<div class=\"blockUI blockOverlay ui-widget-overlay\" style=\"z-index:'+ (z++) +';display:none\"></div>');\r\n\t\t\telse\r\n\t\t\t\tlyr2 = $('<div class=\"blockUI blockOverlay\" style=\"z-index:'+ (z++) +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0\"></div>');\r\n\r\n\t\t\tif (opts.theme && full) {\r\n\t\t\t\ts = '<div class=\"blockUI ' + opts.blockMsgClass + ' blockPage ui-dialog ui-widget ui-corner-all\" style=\"z-index:'+(z+10)+';display:none;position:fixed\">';\r\n\t\t\t\tif ( opts.title ) {\r\n\t\t\t\t\ts += '<div class=\"ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle\">'+(opts.title || '&nbsp;')+'</div>';\r\n\t\t\t\t}\r\n\t\t\t\ts += '<div class=\"ui-widget-content ui-dialog-content\"></div>';\r\n\t\t\t\ts += '</div>';\r\n\t\t\t}\r\n\t\t\telse if (opts.theme) {\r\n\t\t\t\ts = '<div class=\"blockUI ' + opts.blockMsgClass + ' blockElement ui-dialog ui-widget ui-corner-all\" style=\"z-index:'+(z+10)+';display:none;position:absolute\">';\r\n\t\t\t\tif ( opts.title ) {\r\n\t\t\t\t\ts += '<div class=\"ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle\">'+(opts.title || '&nbsp;')+'</div>';\r\n\t\t\t\t}\r\n\t\t\t\ts += '<div class=\"ui-widget-content ui-dialog-content\"></div>';\r\n\t\t\t\ts += '</div>';\r\n\t\t\t}\r\n\t\t\telse if (full) {\r\n\t\t\t\ts = '<div class=\"blockUI ' + opts.blockMsgClass + ' blockPage\" style=\"z-index:'+(z+10)+';display:none;position:fixed\"></div>';\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\ts = '<div class=\"blockUI ' + opts.blockMsgClass + ' blockElement\" style=\"z-index:'+(z+10)+';display:none;position:absolute\"></div>';\r\n\t\t\t}\r\n\t\t\tlyr3 = $(s);\r\n\r\n\t\t\t// if we have a message, style it\r\n\t\t\tif (msg) {\r\n\t\t\t\tif (opts.theme) {\r\n\t\t\t\t\tlyr3.css(themedCSS);\r\n\t\t\t\t\tlyr3.addClass('ui-widget-content');\r\n\t\t\t\t}\r\n\t\t\t\telse\r\n\t\t\t\t\tlyr3.css(css);\r\n\t\t\t}\r\n\r\n\t\t\t// style the overlay\r\n\t\t\tif (!opts.theme /*&& (!opts.applyPlatformOpacityRules)*/)\r\n\t\t\t\tlyr2.css(opts.overlayCSS);\r\n\t\t\tlyr2.css('position', full ? 'fixed' : 'absolute');\r\n\r\n\t\t\t// make iframe layer transparent in IE\r\n\t\t\tif (msie || opts.forceIframe)\r\n\t\t\t\tlyr1.css('opacity',0.0);\r\n\r\n\t\t\t//$([lyr1[0],lyr2[0],lyr3[0]]).appendTo(full ? 'body' : el);\r\n\t\t\tvar layers = [lyr1,lyr2,lyr3], $par = full ? $('body') : $(el);\r\n\t\t\t$.each(layers, function() {\r\n\t\t\t\tthis.appendTo($par);\r\n\t\t\t});\r\n\r\n\t\t\tif (opts.theme && opts.draggable && $.fn.draggable) {\r\n\t\t\t\tlyr3.draggable({\r\n\t\t\t\t\thandle: '.ui-dialog-titlebar',\r\n\t\t\t\t\tcancel: 'li'\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// ie7 must use absolute positioning in quirks mode and to account for activex issues (when scrolling)\r\n\t\t\tvar expr = setExpr && (!$.support.boxModel || $('object,embed', full ? null : el).length > 0);\r\n\t\t\tif (ie6 || expr) {\r\n\t\t\t\t// give body 100% height\r\n\t\t\t\tif (full && opts.allowBodyStretch && $.support.boxModel)\r\n\t\t\t\t\t$('html,body').css('height','100%');\r\n\r\n\t\t\t\t// fix ie6 issue when blocked element has a border width\r\n\t\t\t\tif ((ie6 || !$.support.boxModel) && !full) {\r\n\t\t\t\t\tvar t = sz(el,'borderTopWidth'), l = sz(el,'borderLeftWidth');\r\n\t\t\t\t\tvar fixT = t ? '(0 - '+t+')' : 0;\r\n\t\t\t\t\tvar fixL = l ? '(0 - '+l+')' : 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// simulate fixed position\r\n\t\t\t\t$.each(layers, function(i,o) {\r\n\t\t\t\t\tvar s = o[0].style;\r\n\t\t\t\t\ts.position = 'absolute';\r\n\t\t\t\t\tif (i < 2) {\r\n\t\t\t\t\t\tif (full)\r\n\t\t\t\t\t\t\ts.setExpression('height','Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:'+opts.quirksmodeOffsetHack+') + \"px\"');\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\ts.setExpression('height','this.parentNode.offsetHeight + \"px\"');\r\n\t\t\t\t\t\tif (full)\r\n\t\t\t\t\t\t\ts.setExpression('width','jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + \"px\"');\r\n\t\t\t\t\t\telse\r\n\t\t\t\t\t\t\ts.setExpression('width','this.parentNode.offsetWidth + \"px\"');\r\n\t\t\t\t\t\tif (fixL) s.setExpression('left', fixL);\r\n\t\t\t\t\t\tif (fixT) s.setExpression('top', fixT);\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (opts.centerY) {\r\n\t\t\t\t\t\tif (full) s.setExpression('top','(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + \"px\"');\r\n\t\t\t\t\t\ts.marginTop = 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t\telse if (!opts.centerY && full) {\r\n\t\t\t\t\t\tvar top = (opts.css && opts.css.top) ? parseInt(opts.css.top, 10) : 0;\r\n\t\t\t\t\t\tvar expression = '((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + '+top+') + \"px\"';\r\n\t\t\t\t\t\ts.setExpression('top',expression);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\t// show the message\r\n\t\t\tif (msg) {\r\n\t\t\t\tif (opts.theme)\r\n\t\t\t\t\tlyr3.find('.ui-widget-content').append(msg);\r\n\t\t\t\telse\r\n\t\t\t\t\tlyr3.append(msg);\r\n\t\t\t\tif (msg.jquery || msg.nodeType)\r\n\t\t\t\t\t$(msg).show();\r\n\t\t\t}\r\n\r\n\t\t\tif ((msie || opts.forceIframe) && opts.showOverlay)\r\n\t\t\t\tlyr1.show(); // opacity is zero\r\n\t\t\tif (opts.fadeIn) {\r\n\t\t\t\tvar cb = opts.onBlock ? opts.onBlock : noOp;\r\n\t\t\t\tvar cb1 = (opts.showOverlay && !msg) ? cb : noOp;\r\n\t\t\t\tvar cb2 = msg ? cb : noOp;\r\n\t\t\t\tif (opts.showOverlay)\r\n\t\t\t\t\tlyr2._fadeIn(opts.fadeIn, cb1);\r\n\t\t\t\tif (msg)\r\n\t\t\t\t\tlyr3._fadeIn(opts.fadeIn, cb2);\r\n\t\t\t}\r\n\t\t\telse {\r\n\t\t\t\tif (opts.showOverlay)\r\n\t\t\t\t\tlyr2.show();\r\n\t\t\t\tif (msg)\r\n\t\t\t\t\tlyr3.show();\r\n\t\t\t\tif (opts.onBlock)\r\n\t\t\t\t\topts.onBlock();\r\n\t\t\t}\r\n\r\n\t\t\t// bind key and mouse events\r\n\t\t\tbind(1, el, opts);\r\n\r\n\t\t\tif (full) {\r\n\t\t\t\tpageBlock = lyr3[0];\r\n\t\t\t\tpageBlockEls = $(opts.focusableElements,pageBlock);\r\n\t\t\t\tif (opts.focusInput)\r\n\t\t\t\t\tsetTimeout(focus, 20);\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\tcenter(lyr3[0], opts.centerX, opts.centerY);\r\n\r\n\t\t\tif (opts.timeout) {\r\n\t\t\t\t// auto-unblock\r\n\t\t\t\tvar to = setTimeout(function() {\r\n\t\t\t\t\tif (full)\r\n\t\t\t\t\t\t$.unblockUI(opts);\r\n\t\t\t\t\telse\r\n\t\t\t\t\t\t$(el).unblock(opts);\r\n\t\t\t\t}, opts.timeout);\r\n\t\t\t\t$(el).data('blockUI.timeout', to);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// remove the block\r\n\t\tfunction remove(el, opts) {\r\n\t\t\tvar count;\r\n\t\t\tvar full = (el == window);\r\n\t\t\tvar $el = $(el);\r\n\t\t\tvar data = $el.data('blockUI.history');\r\n\t\t\tvar to = $el.data('blockUI.timeout');\r\n\t\t\tif (to) {\r\n\t\t\t\tclearTimeout(to);\r\n\t\t\t\t$el.removeData('blockUI.timeout');\r\n\t\t\t}\r\n\t\t\topts = $.extend({}, $.blockUI.defaults, opts || {});\r\n\t\t\tbind(0, el, opts); // unbind events\r\n\r\n\t\t\tif (opts.onUnblock === null) {\r\n\t\t\t\topts.onUnblock = $el.data('blockUI.onUnblock');\r\n\t\t\t\t$el.removeData('blockUI.onUnblock');\r\n\t\t\t}\r\n\r\n\t\t\tvar els;\r\n\t\t\tif (full) // crazy selector to handle odd field errors in ie6/7\r\n\t\t\t\tels = $('body').children().filter('.blockUI').add('body > .blockUI');\r\n\t\t\telse\r\n\t\t\t\tels = $el.find('>.blockUI');\r\n\r\n\t\t\t// fix cursor issue\r\n\t\t\tif ( opts.cursorReset ) {\r\n\t\t\t\tif ( els.length > 1 )\r\n\t\t\t\t\tels[1].style.cursor = opts.cursorReset;\r\n\t\t\t\tif ( els.length > 2 )\r\n\t\t\t\t\tels[2].style.cursor = opts.cursorReset;\r\n\t\t\t}\r\n\r\n\t\t\tif (full)\r\n\t\t\t\tpageBlock = pageBlockEls = null;\r\n\r\n\t\t\tif (opts.fadeOut) {\r\n\t\t\t\tcount = els.length;\r\n\t\t\t\tels.stop().fadeOut(opts.fadeOut, function() {\r\n\t\t\t\t\tif ( --count === 0)\r\n\t\t\t\t\t\treset(els,data,opts,el);\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t\telse\r\n\t\t\t\treset(els, data, opts, el);\r\n\t\t}\r\n\r\n\t\t// move blocking element back into the DOM where it started\r\n\t\tfunction reset(els,data,opts,el) {\r\n\t\t\tvar $el = $(el);\r\n\t\t\tif ( $el.data('blockUI.isBlocked') )\r\n\t\t\t\treturn;\r\n\r\n\t\t\tels.each(function(i,o) {\r\n\t\t\t\t// remove via DOM calls so we don't lose event handlers\r\n\t\t\t\tif (this.parentNode)\r\n\t\t\t\t\tthis.parentNode.removeChild(this);\r\n\t\t\t});\r\n\r\n\t\t\tif (data && data.el) {\r\n\t\t\t\tdata.el.style.display = data.display;\r\n\t\t\t\tdata.el.style.position = data.position;\r\n\t\t\t\tif (data.parent)\r\n\t\t\t\t\tdata.parent.appendChild(data.el);\r\n\t\t\t\t$el.removeData('blockUI.history');\r\n\t\t\t}\r\n\r\n\t\t\tif ($el.data('blockUI.static')) {\r\n\t\t\t\t$el.css('position', 'static'); // #22\r\n\t\t\t}\r\n\r\n\t\t\tif (typeof opts.onUnblock == 'function')\r\n\t\t\t\topts.onUnblock(el,opts);\r\n\r\n\t\t\t// fix issue in Safari 6 where block artifacts remain until reflow\r\n\t\t\tvar body = $(document.body), w = body.width(), cssW = body[0].style.width;\r\n\t\t\tbody.width(w-1).width(w);\r\n\t\t\tbody[0].style.width = cssW;\r\n\t\t}\r\n\r\n\t\t// bind/unbind the handler\r\n\t\tfunction bind(b, el, opts) {\r\n\t\t\tvar full = el == window, $el = $(el);\r\n\r\n\t\t\t// don't bother unbinding if there is nothing to unbind\r\n\t\t\tif (!b && (full && !pageBlock || !full && !$el.data('blockUI.isBlocked')))\r\n\t\t\t\treturn;\r\n\r\n\t\t\t$el.data('blockUI.isBlocked', b);\r\n\r\n\t\t\t// don't bind events when overlay is not in use or if bindEvents is false\r\n\t\t\tif (!full || !opts.bindEvents || (b && !opts.showOverlay))\r\n\t\t\t\treturn;\r\n\r\n\t\t\t// bind anchors and inputs for mouse and key events\r\n\t\t\tvar events = 'mousedown mouseup keydown keypress keyup touchstart touchend touchmove';\r\n\t\t\tif (b)\r\n\t\t\t\t$(document).bind(events, opts, handler);\r\n\t\t\telse\r\n\t\t\t\t$(document).unbind(events, handler);\r\n\r\n\t\t// former impl...\r\n\t\t//\t\tvar $e = $('a,:input');\r\n\t\t//\t\tb ? $e.bind(events, opts, handler) : $e.unbind(events, handler);\r\n\t\t}\r\n\r\n\t\t// event handler to suppress keyboard/mouse events when blocking\r\n\t\tfunction handler(e) {\r\n\t\t\t// allow tab navigation (conditionally)\r\n\t\t\tif (e.type === 'keydown' && e.keyCode && e.keyCode == 9) {\r\n\t\t\t\tif (pageBlock && e.data.constrainTabKey) {\r\n\t\t\t\t\tvar els = pageBlockEls;\r\n\t\t\t\t\tvar fwd = !e.shiftKey && e.target === els[els.length-1];\r\n\t\t\t\t\tvar back = e.shiftKey && e.target === els[0];\r\n\t\t\t\t\tif (fwd || back) {\r\n\t\t\t\t\t\tsetTimeout(function(){focus(back);},10);\r\n\t\t\t\t\t\treturn false;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tvar opts = e.data;\r\n\t\t\tvar target = $(e.target);\r\n\t\t\tif (target.hasClass('blockOverlay') && opts.onOverlayClick)\r\n\t\t\t\topts.onOverlayClick(e);\r\n\r\n\t\t\t// allow events within the message content\r\n\t\t\tif (target.parents('div.' + opts.blockMsgClass).length > 0)\r\n\t\t\t\treturn true;\r\n\r\n\t\t\t// allow events for content that is not being blocked\r\n\t\t\treturn target.parents().children().filter('div.blockUI').length === 0;\r\n\t\t}\r\n\r\n\t\tfunction focus(back) {\r\n\t\t\tif (!pageBlockEls)\r\n\t\t\t\treturn;\r\n\t\t\tvar e = pageBlockEls[back===true ? pageBlockEls.length-1 : 0];\r\n\t\t\tif (e)\r\n\t\t\t\te.focus();\r\n\t\t}\r\n\r\n\t\tfunction center(el, x, y) {\r\n\t\t\tvar p = el.parentNode, s = el.style;\r\n\t\t\tvar l = ((p.offsetWidth - el.offsetWidth)/2) - sz(p,'borderLeftWidth');\r\n\t\t\tvar t = ((p.offsetHeight - el.offsetHeight)/2) - sz(p,'borderTopWidth');\r\n\t\t\tif (x) s.left = l > 0 ? (l+'px') : '0';\r\n\t\t\tif (y) s.top  = t > 0 ? (t+'px') : '0';\r\n\t\t}\r\n\r\n\t\tfunction sz(el, p) {\r\n\t\t\treturn parseInt($.css(el,p),10)||0;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\r\n\t/*global define:true */\r\n\tif (typeof define === 'function' && define.amd && define.amd.jQuery) {\r\n\t\tdefine('blockui',['jquery'], setup);\r\n\t} else {\r\n\t\tsetup(jQuery);\r\n\t}\r\n\r\n})();\r\n\n","define('sewisecontrol',[],function(){\r\n  /*\r\n * 视频、字幕\r\n * 基于sewise.player\r\n */\r\n\r\n    /*\r\n     * 带字幕的播放器\r\n     */\r\n    function player(){\r\n        this.config = {\r\n            //当前播放到的词的索引\r\n            \"currentWordIndex\": 0,\r\n            //当前播放到的行的索引\r\n            \"currentLineIndex\": 0\r\n        };\r\n    };\r\n\r\n    var _proto = player.prototype;\r\n\r\n    _proto.init = function(cfg){\r\n        var _self = this;\r\n\r\n        _self.config.cfg = cfg;\r\n        _self.$playZone = $('#playZone');\r\n        _self.videoElem = cfg.videoElem;\r\n        _self.subtitleElem = cfg.subtitleElem;\r\n        _self.subtitleScrollCont = cfg.subtitleElem.find('.subtitle-content');\r\n        _self.subtitleContainer = cfg.subtitleElem.find('.subtitle');\r\n        _self.$question = _self.$playZone.find('#question');\r\n        _self.$questionStem = _self.$playZone.find('#stem');\r\n        _self.$choice = _self.$playZone.find('#choices');\r\n        _self.$questionRight = _self.$playZone.find('#questionRight');\r\n        _self.$questionWrongWarn = _self.$playZone.find('#questionWrongWarn');\r\n        _self.$questionWarning = _self.$questionWrongWarn.find('#questionWarning');\r\n        _self.$questionWrongSkip = _self.$playZone.find('#questionWrongSkip');\r\n        _self.$questionSkipThumb = _self.$questionWrongSkip.find('#questionSkipThumb');\r\n        _self.$questionSkipButton = _self.$questionWrongSkip.find('#questionSkipButton');\r\n        _self.$questionWrongContinue = _self.$playZone.find('#questionWrongContinue');\r\n        _self.$functionAside = $('#functionAside');\r\n        _self.srtJson = cfg.srtJson;\r\n        //播放器初始化完毕\r\n        _self.playReady = false;\r\n        _self.isPause = true;\r\n\r\n        _self.currentTime = 0;\r\n\r\n        //可以点词播放\r\n        _self.config.wordClickEvent = true;\r\n        //碎片分享模式下不能自动滚动字幕\r\n        _self.config.isClipMode = false;\r\n\r\n        _self.loadSubtitle(cfg);\r\n        _self.initEvent();\r\n\r\n        // study mode toolbar\r\n        _self.initStudyBar(cfg);\r\n\r\n        // annotation layer\r\n        _self.initAnnotation(cfg);\r\n\r\n        // question\r\n        _self.initQuestion(cfg);\r\n\r\n        //当sewise播放器准备好时回调\r\n        window.playerReady = function(){\r\n            //console.log(\"Sewise Player On Ready\");\r\n            _self.playReady = true;\r\n\r\n            window.onStart = function(){\r\n                //console.log(\"onStart\");\r\n                _self.isPause = false;\r\n            };\r\n\r\n            window.onPause = function(){\r\n                //console.log(\"onPause\");\r\n                _self.isPause = true;\r\n            };\r\n\r\n            window.onStop = function(){\r\n                //console.log(\"onStop\");\r\n            };\r\n\r\n            //进度条改变时\r\n            window.onSeek = function(time){\r\n                if (_self.isPause){\r\n                    _self.progress(time);\r\n                }\r\n            };\r\n\r\n            //播放时\r\n            window.onPlayTime = function(time){\r\n                if (!_self.isPause){\r\n                    _self.progress(time);\r\n                }\r\n            };\r\n\r\n            _self.setSubtitle(_self.subtitleJson, cfg);\r\n\r\n            if (cfg.callbackFunc){\r\n                cfg.callbackFunc();\r\n            }\r\n        }\r\n    };\r\n\r\n    // study mode toolbar\r\n    _proto.initStudyBar = function(cfg){\r\n      var me = this,\r\n        $studyModeSwitch = $('#studyModeSwitch');\r\n\r\n      $studyModeSwitch.change(function(){\r\n        if($studyModeSwitch.is(':checked')){\r\n          me.$functionAside.addClass('learn-mode');\r\n        }else{\r\n          me.$functionAside.removeClass('learn-mode');\r\n          me.$annotation.stop().hide();\r\n          clearTimeout(me.annotationTimeout);\r\n          me.$question.hide();\r\n          me.$questionRight.hide();\r\n          me.$questionWrongWarn.hide();\r\n          me.$questionWrongSkip.hide();\r\n          me.$questionSkipButton.hide();\r\n        }\r\n      });\r\n\r\n      /*me.$appendix = $('#appendix').scroll(function(evt){\r\n        evt.stopPropagation();\r\n      });\r\n      me.$highlights = $('#hilites').scroll(function(evt){\r\n        evt.stopPropagation();\r\n      });\r\n\r\n      $('#buttonAppendix').click(function(){\r\n        if(!$(this).hasClass('disable')){\r\n          if(me.$appendix.is(':visible')){\r\n            me.$appendix.stop().fadeOut('fast');\r\n          }else{\r\n            me.$highlights.stop().hide();\r\n            me.$appendix.stop().fadeIn('fast');\r\n          }\r\n        }\r\n      });\r\n      $('#buttonHilite').click(function(){\r\n        if(!$(this).hasClass('disable')){\r\n          if(me.$highlights.is(':visible')){\r\n            me.$highlights.stop().fadeOut('fast');\r\n          }else{\r\n            me.$appendix.stop().hide();\r\n            me.$highlights.stop().fadeIn('fast');\r\n          }\r\n        }\r\n      });\r\n\r\n      me.$appendix.find('.close').click(function(){\r\n        me.$appendix.stop().fadeOut('fast');\r\n      });\r\n      me.$highlights.find('.close').click(function(){\r\n        me.$highlights.stop().fadeOut('fast');\r\n      });*/\r\n    };\r\n\r\n    // study mode toolbar\r\n    _proto.initAnnotation = function(cfg){\r\n      var me = this;\r\n\r\n      me.$annotation = $('#annotationPane');\r\n      me.$annotationContent = $('#annotationContent');\r\n\r\n      me.subtitleContainer.on('mouseenter', '.annotation', function(){\r\n        if(me.$functionAside.hasClass('learn-mode')){\r\n          var targetIndex = parseInt($(this).data('annotationindex'));\r\n          if(targetIndex !== me.annotationOnStage){\r\n            var currentAnnotation = me.annotations[targetIndex];\r\n            me.$annotation.stop().hide();\r\n            me.$annotationContent.html(currentAnnotation.content);\r\n            me.$annotation.fadeIn('fast');\r\n            me.annotationOnStage = targetIndex;\r\n            clearTimeout(me.annotationTimeout);\r\n          }else{\r\n            clearTimeout(me.annotationTimeout);\r\n            me.$annotation.fadeIn('fast');\r\n          }\r\n        }\r\n      });\r\n\r\n      me.subtitleContainer.on('mouseout', '.annotation', hideAnnotation);\r\n\r\n      me.$annotation.on({\r\n        mouseenter: function(){\r\n          clearTimeout(me.annotationTimeout);\r\n        },\r\n        mouseout: function(evt){\r\n          if(!me.$annotation.is(evt.relatedTarget) && !$.contains(this, evt.relatedTarget)){\r\n            hideAnnotation();\r\n          }\r\n        }\r\n      }).find('.close').click(function(){\r\n        clearTimeout(me.annotationTimeout);\r\n        me.$annotation.stop().hide();\r\n        return false;\r\n      });\r\n\r\n      function hideAnnotation(f){\r\n        me.annotationTimeout = setTimeout(function (){\r\n          me.$annotation.stop().hide();\r\n        }, 3000);\r\n      }\r\n    }\r\n\r\n    // question\r\n    _proto.initQuestion = function(cfg){\r\n      var me = this;\r\n      me.$question.on('click', '.choiceItem', function(){\r\n        var $this = $(this),\r\n          question = me.questions[me.nextQuestion];\r\n        me.$question.hide();\r\n        if($this.data('value') === question.answer[0]){\r\n          question.passed = true;\r\n          me.nextQuestion++;\r\n          me.$questionRight.show();\r\n          setTimeout(function(){\r\n            me.$questionRight.fadeOut('fast', function(){\r\n              SewisePlayer.doPlay();\r\n            });\r\n          }, 2000);\r\n        }else{\r\n          switch(question.operation){\r\n            case 'goto':\r\n              me.$questionSkipThumb.attr('src', question.operationDetail[1]);\r\n              me.$questionSkipButton.off('click').click(function(){\r\n                me.$questionWrongSkip.fadeOut('fast', function(){\r\n                  SewisePlayer.doSeek(question.operationDetail[0]);\r\n                  SewisePlayer.doPlay();\r\n                });\r\n                return false;\r\n              });\r\n              me.$questionWrongSkip.show();\r\n              break;\r\n            case 'tips':\r\n              me.$questionWarning.text(question.operationDetail);\r\n              me.$questionWrongWarn.show();\r\n              break;\r\n            default:\r\n              me.$questionWrongContinue.show();\r\n              setTimeout(function(){\r\n                me.$questionWrongContinue.fadeOut('fast', function(){\r\n                  SewisePlayer.doPlay();\r\n                });\r\n              });\r\n          }\r\n        }\r\n      });\r\n      me.$questionWrongWarn.find('#doItAgain').click(function(){\r\n        me.$questionWrongWarn.hide();\r\n        me.$question.show();\r\n      });\r\n    };\r\n\r\n    //加载字幕\r\n    _proto.loadSubtitle = function(cfg){\r\n        var _self = this;\r\n\r\n        $.getJSON(_self.srtJson, function(json){\r\n            //console.log('json', json);\r\n            if (json == '' || json == undefined){\r\n                console.log('Subtitle load error.');\r\n            } else {\r\n                _self.subtitleLoaded = true;\r\n                _self.subtitleJson = json;\r\n                _self.setSubtitle(json, cfg);\r\n            }\r\n        }).fail(function(){\r\n            _self.subtitleContainer.html('<li>Failed to load subtitles.</li>');\r\n        });\r\n    };\r\n\r\n    //设置字幕DOM\r\n    var tplHiliteItem = $.trim($('#tplHighlightItem').remove().html());\r\n    _proto.setSubtitle = function(subtitle, cfg){\r\n        var _self = this;\r\n\r\n        if(this.playReady === true && this.subtitleLoaded === true){\r\n\r\n          _self.subtitleContainer.empty();\r\n\r\n          var srt = subtitle.subtitles;\r\n\r\n          // subtitles\r\n          var subtitleSchema = subtitle.subtitleSchema,\r\n            tokenIndex = subtitleSchema.indexOf('token'),\r\n            stIndex = subtitleSchema.indexOf('st'),\r\n            etIndex = subtitleSchema.indexOf('et'),\r\n            scoreIndex = subtitleSchema.indexOf('score');\r\n\r\n          // annotations\r\n          var annotationSchema = subtitle.annotationSchema;\r\n          if(annotationSchema){\r\n            var annotationSerie = subtitle.annotations,\r\n              aStIndex = annotationSchema.indexOf('st'),\r\n              aEtIndex = annotationSchema.indexOf('et'),\r\n              aContentIndex = annotationSchema.indexOf('content'),\r\n              annotations = [],\r\n              currentAnnotation = 0,\r\n              isInAnnotation;\r\n            for(var aIndex = 0, aLength = annotationSerie.length; aIndex < aLength; aIndex++){\r\n              annotations.push({\r\n                st: annotationSerie[aIndex][aStIndex],\r\n                et: annotationSerie[aIndex][aEtIndex],\r\n                content: annotationSerie[aIndex][aContentIndex]\r\n              });\r\n            }\r\n            this.annotations = annotations;\r\n          }\r\n\r\n          // highlights\r\n          var highlightSchema = subtitle.highlightSchema;\r\n          if(highlightSchema){\r\n            var hStIndex = highlightSchema.indexOf('st'),\r\n              hEtIndex = highlightSchema.indexOf('et'),\r\n              hTitleIndex = highlightSchema.indexOf('title'),\r\n              hBriefIndex = highlightSchema.indexOf('brief'),\r\n              hThumbIndex = highlightSchema.indexOf('thumbnail'),\r\n              highlightSerie = subtitle.highlights,\r\n              highlights = [],\r\n              $hiliteList = $('#hiliteList');\r\n            if(highlightSerie.length){\r\n              $('#buttonHilite').removeClass('disable');\r\n              for(var hIndex = 0, hLength = highlightSerie.length; hIndex < hLength; hIndex++){\r\n                var hCurrent = highlightSerie[hIndex];\r\n                highlights.push(tplHiliteItem.\r\n                  // replace(/\\{link\\}/g, '#').\r\n                  replace(/\\{number\\}/g, hIndex + 1).\r\n                  replace(/\\{thumb\\}/g, hCurrent[hThumbIndex]).\r\n                  replace(/\\{heading\\}/g, hCurrent[hTitleIndex]).\r\n                  replace(/\\{start\\}/g, hCurrent[hStIndex]).\r\n                  replace(/\\{end\\}/g, hCurrent[hEtIndex])\r\n                );\r\n              }\r\n              $hiliteList.html(highlights.join('')).on('click', '.hiliteLink', function(){\r\n                if (_self.playReady){\r\n                    SewisePlayer.doSeek($(this).data('start'));\r\n                    // _self.$highlights.fadeOut('fast');\r\n                }\r\n              });\r\n            }else{\r\n              $('.tab a').eq(1).addClass('disable');\r\n            }\r\n          }\r\n\r\n          // appendix\r\n          var $appendixContent = $('#appendixContent');\r\n          if(subtitle.appendix){\r\n            $appendixContent.html(subtitle.appendix);\r\n          }else{\r\n            $('.tab a').eq(2).addClass('disable');\r\n          }\r\n\r\n          // questions\r\n          var questionSchema = subtitle.questionSchema;\r\n          if(questionSchema){\r\n            var choiceSchema = subtitle.choiceSchema,\r\n              questionSerie = subtitle.questions,\r\n              questions = [];\r\n            for(var index = 0, questionCount = questionSerie.length, questionItem, questionObject; index < questionCount; index++){\r\n              questionItem = questionSerie[index];\r\n              questionObject = {};\r\n              for(var qKeyIndex = 0, qKeyLength = questionSchema.length, choiceSerie; qKeyIndex < qKeyLength; qKeyIndex++){\r\n                if(questionSchema[qKeyIndex] === 'choices'){\r\n                  choiceSerie = questionItem[qKeyIndex];\r\n                  questionObject.choices = [];\r\n                  for(var choiceIndex = 0, choiceCount = choiceSerie.length, choiceItem, choiceObject; choiceIndex < choiceCount; choiceIndex++){\r\n                    choiceItem = choiceSerie[choiceIndex];\r\n                    choiceObject = {};\r\n                    for(var cKeyIndex = 0, cKeyLength = choiceSchema.length; cKeyIndex < cKeyLength; cKeyIndex++){\r\n                      choiceObject[choiceSchema[cKeyIndex]] = choiceItem[cKeyIndex];\r\n                    }\r\n                    questionObject.choices.push(choiceObject);\r\n                  }\r\n                }else{\r\n                  questionObject[questionSchema[qKeyIndex]] = questionItem[qKeyIndex];\r\n                }\r\n              }\r\n              questions[index] = questionObject;\r\n            }\r\n            this.questions = questions;\r\n            this.nextQuestion = 0;\r\n          }\r\n\r\n          var subtitleLength = subtitle.length;\r\n          var wordIndex = 0;\r\n          var lineTpl = '<li class=\"line\"></li>';\r\n          var wordTpl = '<span class=\"word\"></span>';\r\n          var subtitleArray = _self.subtitleArray = [];\r\n\r\n          for (var i = 0, srtLength = srt.length; i < srtLength; i++){\r\n              var lineLength = srt[i].length;\r\n              var lineObj = $(lineTpl);\r\n              lineObj.attr({\"id\": 'line_' + i}).data({\"index\": i});\r\n              var pre = null;\r\n              var lineProperties = {\r\n                \"index\": i,\r\n                \"st\": srt[i][0][stIndex],\r\n                \"et\": srt[i][lineLength - 1][etIndex]\r\n              };\r\n              for (var j = 0; j < lineLength; j++){\r\n                  var wordObj = $(wordTpl);\r\n                  var word = srt[i][j];\r\n                  var wordTxt = word[tokenIndex];\r\n                  var addSpace = false;\r\n                  var wordProperties = {\r\n                    \"index\": wordIndex,\r\n                    \"st\": word[stIndex],\r\n                    \"et\": word[etIndex]\r\n                  };                  \r\n\r\n                  if (j == 0){\r\n                      lineObj.attr(lineProperties).data(lineProperties);\r\n                  }\r\n\r\n                  //添加词之间的空白\r\n                  if (pre != null && /^(\\w|\\d)/.test(wordTxt) && (!(/^(ve|s|ll)$/i).test(wordTxt) || !(/^(\\'|’)$/).test(pre))){\r\n                      lineObj.append('<pre class=\"space' + (isInAnnotation ? ' comment annotation\" data-annotationIndex=\"' + currentAnnotation + '\"' : '\"') + '> </pre>');\r\n                      addSpace = true;\r\n                  }\r\n                  pre = wordTxt;\r\n\r\n                  if (addSpace){\r\n                      wordTxt = ' ' + wordTxt;\r\n                  }\r\n\r\n                  wordObj.attr($.extend({\"id\": 'word_' + wordIndex}, wordProperties)).data(wordProperties);\r\n                  wordObj.text(wordTxt);\r\n\r\n                  wordObj.appendTo(lineObj);\r\n                  subtitleArray.push(wordObj);\r\n                  wordIndex++;\r\n\r\n                  // annotation\r\n                  if(annotations && annotations[currentAnnotation] && wordProperties.st === annotations[currentAnnotation].st){\r\n                    isInAnnotation = true;\r\n                  }\r\n                  if(isInAnnotation){\r\n                    wordObj.addClass('comment annotation');\r\n                    wordObj.data('annotationindex', currentAnnotation);\r\n                  }\r\n\r\n                  if(isInAnnotation && wordProperties.et === annotations[currentAnnotation].et){\r\n                    isInAnnotation = false;\r\n                    currentAnnotation++;\r\n                  }\r\n              }\r\n\r\n              lineObj.appendTo(_self.subtitleContainer);\r\n          }\r\n\r\n\r\n          //所有行的jq对象\r\n          _self.lineElemArray = _self.subtitleContainer.find('.line');\r\n\r\n          //console.log('_self.lineElemArray', _self.lineElemArray);\r\n\r\n          _self.subtitleIsLoaded = true;\r\n          //是否自动滚动字幕\r\n          _self.config.isAutoScroll = true;\r\n\r\n          if (cfg.subtitleCallbackFunc){\r\n              cfg.subtitleCallbackFunc(_self.lineElemArray);\r\n          }\r\n        }\r\n    };\r\n\r\n    //加载字幕\r\n    _proto.initEvent = function(){\r\n        var _self = this;\r\n\r\n        _self.subtitleScrollCont.on('scroll', function(){\r\n            _self.stopMoveScroll();\r\n        });\r\n\r\n        _self.subtitleScrollCont.on('click', '.word', function(e){\r\n            e.stopPropagation();\r\n\r\n            if (_self.playReady && _self.config.wordClickEvent){\r\n                var word = $(this);\r\n\r\n                SewisePlayer.doSeek(word.attr('st'));\r\n            }\r\n        });\r\n    };\r\n\r\n    //播放时\r\n    _proto.progress = function(time){\r\n        var _self = this,\r\n          nextQuestion;\r\n        _self.currentTime = time;\r\n\r\n        //自动播放字幕\r\n        if (_self.subtitleIsLoaded){\r\n            var array = _self.subtitleArray;\r\n            var wordLength = array.length;\r\n\r\n            for (var i = 0; i < wordLength; i++){\r\n                var wordObj = array[i];\r\n\r\n                if (wordObj.data('st') <= time && wordObj.data('et') >= time){\r\n                    if (_self.config.currentWordIndex != i){\r\n                        //当前行\r\n                        var currentLine = wordObj.parent('li');\r\n                        var currentLineIndex = currentLine.data('index');\r\n\r\n                        if (_self.config.currentLineIndex == 0){\r\n                            _self.subtitleElem.find('#line_' + _self.config.currentLineIndex).addClass('current-line');\r\n                        }\r\n                        //设置当前行样式\r\n                        if (_self.config.currentLineIndex != currentLineIndex){\r\n                            _self.subtitleElem.find('#line_' + _self.config.currentLineIndex).removeClass('current-line');\r\n                            _self.config.currentLineIndex = currentLineIndex;\r\n                            currentLine.addClass('current-line');\r\n                        }\r\n                        //设置当前词样式\r\n                        _self.subtitleElem.find('#word_' + _self.config.currentWordIndex).removeClass('current-word');\r\n                        _self.config.currentWordIndex = i;\r\n                        wordObj.addClass('current-word');\r\n                        //滚动字幕框\r\n                        _self.moveScroll(currentLine);\r\n                    }\r\n                }\r\n            }\r\n\r\n            // show question\r\n            // if(nextQuestion && time)\r\n            if(questions){\r\n              nextQuestion = _self.questions[_self.nextQuestion];\r\n              if(_self.$functionAside.hasClass('learn-mode') && nextQuestion && nextQuestion.time < time && !nextQuestion.passed){\r\n                _self.showQuestion(nextQuestion);\r\n              }\r\n            }\r\n        }\r\n    };\r\n\r\n    // show question\r\n    var tplChoice = $.trim($('#tplChoice').remove().html());\r\n    _proto.showQuestion = function(question){\r\n      var choices = question.choices,\r\n        choiceFragments = [];\r\n\r\n      SewisePlayer.noramlScreen();\r\n      this.pause();\r\n\r\n      this.$questionStem.html(question.question);\r\n      for(var index = 0, length = choices.length; index < length; index++){\r\n        choiceFragments.push(tplChoice.\r\n          replace(/\\{value\\}/g, choices[index].value).\r\n          replace(/\\{description\\}/g, choices[index].description)\r\n        )\r\n      }\r\n      this.$choice.html(choiceFragments.join(''));\r\n      this.$question.show();\r\n    };\r\n\r\n    //滚动字幕框\r\n    _proto.moveScroll = function(line){\r\n        var _self = this;\r\n\r\n        if (_self.config.isAutoScroll && !_self.config.isClipMode){\r\n            _self.subtitleScrollCont.scrollTop(line.position().top - 48);\r\n        }\r\n    };\r\n\r\n    //停止滚动字幕框\r\n    _proto.stopMoveScroll = function(){\r\n        var _self = this;\r\n\r\n        _self.config.isAutoScroll = false;\r\n        clearTimeout(_self.config.scrollTimer);\r\n        _self.config.scrollTimer = window.setTimeout(function(){\r\n            _self.config.isAutoScroll = true;\r\n        }, 3000);\r\n    };\r\n\r\n    //暂停\r\n    _proto.pause = function(){\r\n        SewisePlayer.doPause();\r\n    };\r\n\r\n    //重新播放\r\n    _proto.replay = function(){\r\n        SewisePlayer.doSeek(0);\r\n    };\r\n\r\n    //获取当前播放时间\r\n    _proto.getCurrentTime = function(){\r\n        return this.currentTime;\r\n    };\r\n\r\n    //获取当前行\r\n    _proto.getCurrentLineIndex = function(){\r\n        return this.config.currentLineIndex;\r\n    };\r\n\r\n    //播放完后\r\n    /*_proto.finish = function(){\r\n        var _self = this;\r\n        var api = _self.config.api;\r\n        var cfg = _self.config.cfg;\r\n\r\n        if (cfg.finishCallback){\r\n            cfg.finishCallback();\r\n        }\r\n    };*/\r\n\r\n  return {\r\n    player: player,\r\n    /* this is a shim for sewise player, as it doesn't support custom container */\r\n    load: function(container, callback){\r\n      if(typeof container == 'string'){\r\n        container = document.getElementById(container);\r\n      }\r\n      if(container){\r\n        var script = document.createElement('script');\r\n        script.onload = callback;\r\n        script.src = '/source/dist/scripts/lib/sewise.player.min.js';\r\n        container.appendChild(script);\r\n      }\r\n    }\r\n  };\r\n});\n","require(['config'], function(){\r\n  require(['infrastructure'], function(){\r\n    require(['blockui', 'sewisecontrol'], function(blockUI, sewiseControl){\r\n\r\n      var $playerHolder = $('#playerHolder'),\r\n        listInfo = $playerHolder.data(),\r\n        $noteList = $('#noteList'),\r\n        $noteItem = $noteList.find('li'),\r\n        playerLoaded,\r\n        noteIndex = 0,\r\n        $noteIndex = $('#noteIndex'),\r\n        $currentTitle = $('#currentTitle');\r\n\r\n      // shrink\r\n      var $container = $('.player-container');\r\n      $('.shrink-btn a').click(function(){\r\n        $container.toggleClass('shrinked');\r\n        return false;\r\n      });\r\n\r\n      // get video addresses\r\n      $noteItem.each(function(index){\r\n        var $note = $(this);\r\n        $.ajax({\r\n          url: '/note/getFragmentPlayUrl/' + $note.data('playid'),\r\n          dataType: 'json'\r\n        }).done(function(res){\r\n          if(res.msgCode === 0){\r\n            $note.data('source', res.data.FLV.src);\r\n            if(!index){\r\n              $note.addClass('active');\r\n              loadPlayer(res.data.FLV.src, $note.data('title'));\r\n              $currentTitle.text($note.data('title'));\r\n            }\r\n          }\r\n        });\r\n      });\r\n\r\n      // click to play\r\n      $noteList.on('click', '.playLink', function(){\r\n        var $note = $(this).parents('.note-item'),\r\n          source = $note.data('source');\r\n        if(playerLoaded && !$note.hasClass('active') && source){\r\n          $noteItem.removeClass('active');\r\n          $note.addClass('active');\r\n          SewisePlayer.toPlay(source, $note.data('title'), 0, true);\r\n          noteIndex = $noteItem.index($note);\r\n          $noteIndex.text(noteIndex + 1);\r\n          $currentTitle.text($note.data('title'));\r\n        }\r\n        return false;\r\n      });\r\n\r\n      function loadPlayer(source, title){\r\n        sewiseControl.load('playerHolder', function(){\r\n          SewisePlayer.setup({\r\n            server: 'vod',\r\n            videourl: source,\r\n            title: title,\r\n            skin: 'vodWhite',\r\n            logo: '#',\r\n            playername: ' ',\r\n            copyright: ' '\r\n          });\r\n          playerLoaded = true;\r\n        });\r\n      }\r\n\r\n      window.onStop = function(){\r\n        if(noteIndex + 1 < $noteItem.length){\r\n          // play next note\r\n          $noteItem.eq(++noteIndex).find('.playLink').eq(0).click();\r\n        }\r\n      }\r\n\r\n\r\n      /* 视频剪辑、笔记 */\r\n      var $addToNoteDialog = $('#addToNoteDialog'),\r\n        $createNoteBookButton = $addToNoteDialog.find('#createNoteBookButton'),\r\n        $createNewPlaylist = $('#createNewPlaylist'),\r\n        selectedNoteId;\r\n\r\n      function addShow(){\r\n        var len,\r\n          i;\r\n        $.ajax({\r\n          'url':'/note/getMyNoteList',\r\n          'dataType': 'json',\r\n          'success':function(data){\r\n            if(data.msgCode != 0){\r\n              location.href = '/login';\r\n            }else{\r\n              if((len =data.list.length) !=0){\r\n                var html = '';\r\n                for(i=0;i<len;i++){\r\n                  html +='<option value=\"'+data.list[i]['id']+'\">'+data.list[i]['title']+'</option>';\r\n                }\r\n                // console.log(html);\r\n                $('#playlist_id').empty().append(html);\r\n              }\r\n              $addToNoteDialog.attr('class',' ').attr('class','modal-wrap');\r\n            }\r\n          },\r\n          'error':function(){\r\n            alert('服务异常，请稍后再试');\r\n          }\r\n        })\r\n        return false;\r\n      }\r\n\r\n      $('.addNoteToNote').click(function (){\r\n        selectedNoteId = $(this).parents('.note-item').data('playid');\r\n        addShow();\r\n        return false;\r\n      });\r\n      \r\n      $('#cloaseAddToNoteDialog').click(function(){\r\n        $addToNoteDialog.hide();\r\n        return false;\r\n      });\r\n\r\n      $('#addToNoteButton').click(function addInMyPlaylist(){\r\n        $.ajax({\r\n          'url':'/my/note/addInMyPlaylist',\r\n          'type':'POST',\r\n          'data':'playlist_id='+$('#playlist_id').val()+'&title='+$('#title').val()+'&description='+$('#description').val()+'&playid='+selectedNoteId,\r\n          'success':function(res){\r\n            // console.log(res);\r\n            res = JSON.parse(res);\r\n            if(res.status == -1){\r\n              $.blockUI({ fadeIn: 700, fadeOut: 700, timeout: 500 ,message:'<p style=\"color:white\"> 碎片创建失败!</p>'});\r\n              return false;\r\n            }else if(res.status == -2){\r\n              $.blockUI({ fadeIn: 700, fadeOut: 700, timeout: 500 ,message:'<p style=\"color:white\"> 碎片已经存在!</p>'});\r\n              return false;\r\n            }else{\r\n              $.blockUI({ fadeIn: 700, fadeOut: 700, timeout: 500 ,message:'<p style=\"color:white\">添加成功!</p>'});\r\n              $addToNoteDialog.attr('class','modal-wrap hidden');\r\n              return false;\r\n            }\r\n          },\r\n          'error':function(){\r\n            $.blockUI({ fadeIn: 700, fadeOut: 700, timeout: 500 ,message:'<p style=\"color:white\">ajax error!</p>'});\r\n          }\r\n        });\r\n        return false;\r\n      });\r\n\r\n      $createNoteBookButton.click(function(){\r\n        $createNewPlaylist.removeClass('hidden');\r\n        $addToNoteDialog.addClass('hidden');\r\n        return false;\r\n      });\r\n\r\n      $('#cancelAddToNoteButton').click(function(){\r\n        $addToNoteDialog.attr('class','modal-wrap hidden');\r\n        return false;\r\n      });\r\n\r\n      $('#closeCreateNewPlaylist').click(function(){\r\n        $createNewPlaylist.attr('class','modal-wrap hidden');\r\n        return false;\r\n      });\r\n\r\n      $('#createNewPlaylistConfirm').click(function createPlaylist(){\r\n        $.ajax({\r\n          'url':'/note/create',\r\n          'type':'POST',\r\n          'data':$('#create_form').serialize(),\r\n          'beforeSend':function(){\r\n            //$.blockUI({message:'<img src=\"/static/hiho-edu/img/busy.gif\"/>'});\r\n          },\r\n          'success':function(data){\r\n            console.log(data);\r\n            data =  JSON.parse(data);\r\n            if(data.status == -2 || data.status ==-1){\r\n              $.blockUI({ fadeIn: 700, fadeOut: 700, timeout: 500 ,message:'<p style=\"color:white\">'+data.message+'</p>'});\r\n              return;\r\n            }\r\n            $.blockUI({ fadeIn: 700, fadeOut: 700, timeout: 500 ,message:'<p style=\"color:white\">添加成功</p>'});\r\n            $('#playlist_id').append('<option value=\"'+data.data.id+'\">'+data.data.title+'</option>');\r\n            $addToNoteDialog.attr('class','modal-wrap');\r\n            $createNewPlaylist.attr('class','modal-wrap hidden');\r\n          },\r\n          'complete':function(){\r\n\r\n          },\r\n          'error':function(){\r\n            $.blockUI({ fadeIn: 700, fadeOut: 700, timeout: 500 ,message:'<p style=\"color:white\">ajax error!</p>'});\r\n          }\r\n        });\r\n        return false;\r\n      });\r\n\r\n      $('#createNewPlaylistCancel').click(function(){\r\n        $createNewPlaylist.attr('class','modal-wrap hidden');\r\n        return false;\r\n      });\r\n\r\n\r\n      // 收藏整个列表\r\n      $('#addToFavPlaylists').click(function(){\r\n        $.ajax({\r\n          url: '/favorite/addPlaylist',\r\n          data: {play_id: listInfo.playid},\r\n          type: 'POST',\r\n          dataType: 'json'\r\n        }).done(function(res){\r\n          if(res.status === 0){\r\n            $.blockUI({ fadeIn: 700, fadeOut: 700, timeout: 500 ,message:'<p style=\"color:white\">添加成功</p>'});\r\n          }else if(res.status === -3){\r\n            $.blockUI({ fadeIn: 700, fadeOut: 700, timeout: 500 ,message:'<p style=\"color:white\">已收藏过该笔记</p>'});\r\n          }else{\r\n            $.blockUI({ fadeIn: 700, fadeOut: 700, timeout: 500 ,message:'<p style=\"color:white\">添加失败</p>'});\r\n          }\r\n        });\r\n      });\r\n\r\n\r\n      // 收藏\r\n      var favActiveClass = 'ico-fav-active';//已收藏\r\n      $('.addNoteToFav').click(function (e) {\r\n        e.preventDefault();\r\n        var $this = $(this);\r\n\r\n        $.post('/favorite/addFragment', {fragment_playid: $this.parents('.note-item').data('playid')},\r\n          function (data) {\r\n\r\n            if (data.msgCode === 0) {\r\n              if ($this.hasClass(favActiveClass)) {\r\n                $this.removeClass(favActiveClass);\r\n              } else {\r\n                $this.addClass(favActiveClass);\r\n              }\r\n            } else if(data.msgCode === -1){\r\n              alert('已经收藏过此视频');\r\n            } else {\r\n              alert(data.message);\r\n            }\r\n          }, 'json').fail(function () {\r\n            alert('添加失败，请稍后再试');\r\n          });\r\n        return false;\r\n      });\r\n\r\n\r\n\r\n    });\r\n  });\r\n});\ndefine(\"playnote\", function(){});\n\n"]}