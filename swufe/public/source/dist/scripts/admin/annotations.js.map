{"version":3,"file":"annotations.js","sources":["annotations.js.src.js"],"names":["define","subtitleselect","jQuery","$","setSubtitle","subtitle","isInAnnotation","annotationSchema","aIdIndex","indexOf","aStIndex","aEtIndex","aContentIndex","annotationSerie","annotations","annotationFragments","currentAnnotation","length","aIndex","aLength","aCurrent","push","id","start","end","content","tplAnnotationItem","replace","getText","encodeURIComponent","$annotationList","html","join","srt","subtitles","subtitleSchema","tokenIndex","stIndex","etIndex","wordIndex","lineTpl","wordTpl","subtitleArray","i","srtLength","lineLength","lineObj","attr","data","index","pre","lineProperties","st","et","j","wordObj","word","wordTxt","addSpace","wordProperties","test","append","extend","text","appendTo","addClass","$subtitleList","selector","subtitleSelect","onSelect","selection","$annotationStart","parseTime","$annotationEnd","initAnnotationControl","on","$addAnnotationForm","get","reset","$annotationContent","code","$annotation","this","parents","annotationId","parseInt","ajax","url","type","dataType","annotation_id","done","res","msgCode","remove","isInTarget","find","each","$char","removeClass","showSuccess","showError","$modifiedAnnotation","$modifyAnnotationModal","$modifyAnnotationForm","$annotationStartModify","$annotationEndModify","$annotationContentModify","annotationData","decodeURIComponent","contentEncoded","$addAnnotationButton","click","trim","video_guid","videoInfo","guid","parseFloat","$addAnnotationModal","modal","turnToMark","timeValue","timeParts","toTwoDigits","Math","floor","value","str","slice","fragment","success","alert","error","stringify","obj","t","String","n","v","json","arr","constructor","Array","hasOwnProperty","empty","getJSON","language","undefined","console","log","fail"],"mappings":"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"}